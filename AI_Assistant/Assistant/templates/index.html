<!-- {% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Laika - Welcome</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    <div class="welcome-container">
        <img src="{% static 'image/laika.png' %}" alt="AI Laika" class="robot-image">
        <div class="welcome-text">
            <h1>Hello, It's AI Laika!</h1>
            <p>Welcome to our AI assistant app! We're excited to have you on board. Here are a few steps to help you get started.</p>
        </div>
        <button id="microphone-button">
            <div class="microphone-icon">
                <img src="{% static 'image/mic.png' %}" alt="Microphone">
            </div>
        </button>
        <p>Say 'Next' to Skip</p>
    </div>
    
  
    <script>
        window.onload = function() {
            // Speech Synthesis
            var utterance = new SpeechSynthesisUtterance(" Hey User , iam laika, Iam here for assist you  ,    do you want to explore say    next");
            
            
            
            // Callback to start speech recognition after speech synthesis
            utterance.onend = function() {
                // Speech Recognition Setup
                var recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.lang = 'en-US';
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
    
                recognition.onresult = function(event) {
                    var command = event.results[0][0].transcript.toLowerCase();
                    if (command.includes('next')) {
                        window.location.href = "{% url 'explore' %}"; // Correct path for the server
                    }
                };
    
                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                };
    
                // Start speech recognition
                recognition.start();
            };
    
            // Start speech synthesis
            window.speechSynthesis.speak(utterance);
        };
    </script>
    
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Laika - Welcome</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>
<body>
    <div class="welcome-container">
        <img src="{% static 'image/laika.png' %}" alt="AI Laika" class="robot-image">
        <div class="welcome-text">
            <h1>Hello, It's AI Laika!</h1>
            <p>Welcome to our AI assistant app! We're excited to have you on board. Here are a few steps to help you get started.</p>
        </div>
        <button id="microphone-button">
            <div class="microphone-icon">
                <img src="{% static 'image/mic.png' %}" alt="Microphone">
            </div>
        </button>
        <p>Say 'Next' to Skip</p>
    </div>
    <script>
        window.onload = function() {
            var utterance = new SpeechSynthesisUtterance("Hey User, I am Laika. I am here to assist you. Do you want to explore? Say 'next'.");

            function setFemaleVoice() {
                var voices = window.speechSynthesis.getVoices();
                // Try to find a voice that sounds female, based on common female voice names
                var femaleVoice = voices.find(voice => 
                    voice.name.toLowerCase().includes("zira") || 
                    voice.name.toLowerCase().includes("female") || 
                    voice.name.toLowerCase().includes("woman") || 
                    voice.name.toLowerCase().includes("girl") ||
                    voice.name.toLowerCase().includes("uk") || 
                    voice.voiceURI.toLowerCase().includes("female")
                );
                
                if (femaleVoice) {
                    utterance.voice = femaleVoice;
                } else {
                    console.log("Female voice not found, using default voice.");
                }
                
                window.speechSynthesis.speak(utterance);
            }

            if (window.speechSynthesis.getVoices().length === 0) {
                window.speechSynthesis.onvoiceschanged = setFemaleVoice;
            } else {
                setFemaleVoice();
            }

            utterance.onend = function() {
                var recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.lang = 'en-US';
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;

                recognition.onresult = function(event) {
                    var command = event.results[0][0].transcript.toLowerCase();
                    if (command.includes('next')) {
                        window.location.href = "{% url 'explore' %}";
                    }
                };

                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                };

                recognition.start();
            };
        };
    
    </script>
    
</body>
</html>
